/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/demokit/icex/model/Config"],function(C,a){"use strict";return C.extend("sap.ui.demokit.icex.view.Master",{onInit:function(){var m=new sap.ui.model.json.JSONModel({listMode:(sap.ui.Device.system.phone)?"None":"SingleSelectMaster",listItemType:(sap.ui.Device.system.phone)?"Active":"Inactive",listPageSize:a.getPageSize(),showFooter:!sap.ui.Device.system.phone});this.getView().setModel(m,"ui");this.search();},search:function(){var s=this.getView().byId("search").getValue();var b=(s.length!==0);var i=this.getView().byId("iconList");var g=this.getView().byId("groupList");i.toggleStyleClass("invisible",!b);g.toggleStyleClass("invisible",b);var c=i.getBinding("items");if(b&&c!==undefined){var f=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,s);c.filter([f]);}},toFavorite:function(e){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Favorite"});},selectIconList:function(e){this._showDetail(e.getParameter("listItem"));},pressIconListItem:function(e){this._showDetail(e.getSource());},_showDetail:function(i){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Detail"});b.publish("app","RefreshDetail",{name:i.getBindingContext().getObject().name});},pressGroupListItem:function(e){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Group",data:{context:e.getSource().getBindingContext()}});}});});
